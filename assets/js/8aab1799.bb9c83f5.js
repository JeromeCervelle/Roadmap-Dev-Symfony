"use strict";(self.webpackChunkroadmap_symfony=self.webpackChunkroadmap_symfony||[]).push([[5347],{3905:function(e,r,t){t.d(r,{Zo:function(){return c},kt:function(){return m}});var n=t(7294);function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){o(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function p(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=n.createContext({}),u=function(e){var r=n.useContext(s),t=r;return e&&(t="function"==typeof e?e(r):i(i({},r),e)),t},c=function(e){var r=u(e.components);return n.createElement(s.Provider,{value:r},e.children)},l={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},d=n.forwardRef((function(e,r){var t=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),d=u(t),m=o,f=d["".concat(s,".").concat(m)]||d[m]||l[m]||a;return t?n.createElement(f,i(i({ref:r},c),{},{components:t})):n.createElement(f,i({ref:r},c))}));function m(e,r){var t=arguments,o=r&&r.mdxType;if("string"==typeof e||o){var a=t.length,i=new Array(a);i[0]=d;var p={};for(var s in r)hasOwnProperty.call(r,s)&&(p[s]=r[s]);p.originalType=e,p.mdxType="string"==typeof e?e:o,i[1]=p;for(var u=2;u<a;u++)i[u]=t[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}d.displayName="MDXCreateElement"},5198:function(e,r,t){t.r(r),t.d(r,{frontMatter:function(){return p},contentTitle:function(){return s},metadata:function(){return u},toc:function(){return c},default:function(){return d}});var n=t(7462),o=t(3366),a=(t(7294),t(3905)),i=["components"],p={sidebar_position:10},s="Les requ\xeates AJAX",u={unversionedId:"JavaScript/AJAX",id:"JavaScript/AJAX",isDocsHomePage:!1,title:"Les requ\xeates AJAX",description:"Quand on fait du JavaScript, on peut \xeatre amen\xe9 \xe0 devoir communiquer avec une API, pour r\xe9cuperer ou envoyer des donn\xe9es. Une m\xe9thode existe pour \xe7a, elle s'appelle `fetch`.",source:"@site/docs/07-JavaScript/11-AJAX.md",sourceDirName:"07-JavaScript",slug:"/JavaScript/AJAX",permalink:"/Roadmap-Dev-Symfony/docs/JavaScript/AJAX",editUrl:"https://github.com/yoanbernabeu/Roadmap-Dev-Symfony/edit/main/docs/07-JavaScript/11-AJAX.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10},sidebar:"tutorialSidebar",previous:{title:"La gestion du DOM",permalink:"/Roadmap-Dev-Symfony/docs/JavaScript/DOM"},next:{title:"JavaScript c\xf4t\xe9 serveur",permalink:"/Roadmap-Dev-Symfony/docs/JavaScript/JS-c\xf4t\xe9-serveur"}},c=[{value:"Ressources",id:"ressources",children:[],level:2}],l={toc:c};function d(e){var r=e.components,t=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,n.Z)({},l,t,{components:r,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"les-requ\xeates-ajax"},"Les requ\xeates AJAX"),(0,a.kt)("p",null,"Quand on fait du JavaScript, on peut \xeatre amen\xe9 \xe0 devoir communiquer avec une API, pour r\xe9cuperer ou envoyer des donn\xe9es. Une m\xe9thode existe pour \xe7a, elle s'appelle ",(0,a.kt)("inlineCode",{parentName:"p"},"fetch"),"."),(0,a.kt)("p",null,"Pour l'utiliser, on l'appelle en lui passant en premier param\xe8tre l'URL de la ressource et \xe9ventuellement en second param\xe8tre un objet d'options, dans lequel on peut sp\xe9cifier par exemple des ent\xeates HTTP. Elle renvoie une promesse. Si on veut r\xe9cup\xe9rer des donn\xe9es en JSON, on devra appeler une m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"p"},"json()")," sur le r\xe9sultat de la promesse, m\xe9thode qui renverra elle aussi une promesse."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"fetch('https://jsonplaceholder.typicode.com/posts?_limit=10',{\n    headers: {\n        Accept: 'application/json'\n    }\n})\n    .then(r => {\n        if (r.ok) {\n            return r.json()\n        } else {\n            throw new Error('Erreur serveur', {cause: r})\n        }\n    })\n    .then(posts => {\n        console.log('La liste des articles : ', posts)\n    })\n    .catch(e => {\n        console.error('Une erreur est survenue', e)\n    })\n")),(0,a.kt)("p",null,"On peut aussi l'utiliser pour envoyer des donn\xe9es. "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"fetch('https://jsonplaceholder.typicode.com/posts',{\n    method: 'POST',\n    headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({title: 'Hello world'})\n})\n")),(0,a.kt)("h2",{id:"ressources"},"Ressources"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://grafikart.fr/tutoriels/javascript-promise-2068#autoplay"},"Apprendre \xe0 g\xe9rer fetch par Grafikart"))))}d.isMDXComponent=!0}}]);